{"ast":null,"code":"import _regeneratorRuntime from \"/home/huyha/per/redux-tuts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/huyha/per/redux-tuts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nvar initialState = {\n  token: null\n};\nvar auth = createSlice({\n  name: \"auth\",\n  initialState: initialState,\n  reducers: {\n    loginSuccess: function loginSuccess(state, action) {\n      state.token = action.payload.token;\n    }\n  }\n});\nvar loginSuccess = auth.actions.loginSuccess;\nexport var login = function login(_ref) {\n  var email = _ref.email,\n      password = _ref.password;\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"https://codersx-swagger.glitch.me/api/auth/login\", {\n                email: email,\n                password: password\n              });\n\n            case 2:\n              res = _context.sent;\n              dispatch(loginSuccess(res.data));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport default auth.reducer;","map":{"version":3,"sources":["/home/huyha/per/redux-tuts/src/redux/auth.js"],"names":["axios","createSlice","initialState","token","auth","name","reducers","loginSuccess","state","action","payload","actions","login","email","password","dispatch","post","res","data","reducer"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE;AADY,CAArB;AAIA,IAAMC,IAAI,GAAGH,WAAW,CAAC;AACvBI,EAAAA,IAAI,EAAE,MADiB;AAEvBH,EAAAA,YAAY,EAAZA,YAFuB;AAGvBI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YADQ,wBACKC,KADL,EACYC,MADZ,EACoB;AAC1BD,MAAAA,KAAK,CAACL,KAAN,GAAcM,MAAM,CAACC,OAAP,CAAeP,KAA7B;AACD;AAHO;AAHa,CAAD,CAAxB;AAUA,IAAQI,YAAR,GAAyBH,IAAI,CAACO,OAA9B,CAAQJ,YAAR;AAEA,OAAO,IAAMK,KAAK,GAAG,SAARA,KAAQ;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,MAAUC,QAAV,QAAUA,QAAV;AAAA;AAAA,yEAAyB,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC1Bf,KAAK,CAACgB,IAAN,CAChB,kDADgB,EAEhB;AACEH,gBAAAA,KAAK,EAALA,KADF;AAEEC,gBAAAA,QAAQ,EAARA;AAFF,eAFgB,CAD0B;;AAAA;AACtCG,cAAAA,GADsC;AAQ5CF,cAAAA,QAAQ,CAACR,YAAY,CAACU,GAAG,CAACC,IAAL,CAAb,CAAR;;AAR4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAzB;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;AAWP,eAAed,IAAI,CAACe,OAApB","sourcesContent":["import axios from \"axios\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  token: null\n};\n\nconst auth = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    loginSuccess(state, action) {\n      state.token = action.payload.token;\n    }\n  }\n});\n\nconst { loginSuccess } = auth.actions;\n\nexport const login = ({ email, password }) => async (dispatch) => {\n  const res = await axios.post(\n    \"https://codersx-swagger.glitch.me/api/auth/login\",\n    {\n      email,\n      password\n    }\n  );\n  dispatch(loginSuccess(res.data));\n};\n\nexport default auth.reducer;\n"]},"metadata":{},"sourceType":"module"}